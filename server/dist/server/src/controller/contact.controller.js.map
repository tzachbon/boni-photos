{"version":3,"file":"contact.controller.js","sourceRoot":"","sources":["../../../../src/controller/contact.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,uDAAuD;AACvD,+CAA2C;AAE3C,iEAA0D;AAE7C,QAAA,iBAAiB,GAAmB,UAAO,GAAG,EAAE,GAAG,EAAE,IAAI;;;;;;gBAE5D,QAAQ,GAAG,GAAG,CAAC,IAAgB,CAAC;gBAChC,OAAO,GAAG,qKAAmC,CAAC;gBAC9C,IAAI,GAAG,iCAAY,CAAC,QAAQ,CAAC,CAAC;gBAC9B,WAAW,GAAG,IAAI,kBAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBAC9C,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;gBACpD,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAClC,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;gBAChC,WAAM,WAAW,CAAC,IAAI,EAAE,EAAA;;gBAAtC,WAAW,GAAG,SAAwB;gBAE5C,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,8BAAc,CAAC;oBAClC,OAAO,EAAE,cAAc;oBACvB,WAAW,aAAA;iBACZ,CAAC,CACD,CAAC;;;;gBAGF,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAClB,8BAAc,CAAC;oBACb,KAAK,SAAA;iBACN,EAAE,KAAK,CAAC,CACV,CAAC;;;;;KAEL,CAAA","sourcesContent":["import { RequestHandler } from 'express';\nimport { responseHelper } from '../util/response.util';\nimport { Mailer } from '../util/mail.util';\nimport { IMessage } from '../../../functions/src/models/message.interface';\nimport { generateText } from '../util/generate-text.util';\n\nexport const ContactController: RequestHandler = async (req, res, next) => {\n  try {\n    const userData = req.body as IMessage;\n    const subject = `יוזר חדש שלח עכשיו מייל דרך האתר!`;\n    const text = generateText(userData);\n    const mailToAdmin = new Mailer(subject, text);\n    console.log('====================================');\n    console.log(mailToAdmin.mailInfo);\n    console.log('====================================');\n    const mailDetails = await mailToAdmin.send();\n\n    res.status(201).json(responseHelper({\n      message: 'Message Sent',\n      mailDetails\n    })\n    );\n\n  } catch (error) {\n    res.status(500).json(\n      responseHelper({\n        error\n      }, false)\n    );\n  }\n}\n"]}